## 线程共享进程的资源，具体是指什么资源？线程之间的资源是如何通信的？

线程共享的资源有：

- **全局堆**: 由于堆是在进程空间中开辟出来的，所以它是理所当然地被共享的

- **全局变量**: 它是与具体某一函数无关的，所以也与特定线程无关；因此也是共享的

- **静态变量**: 虽然对于局部变量来说，它在代码中是“放”在某一函数中的，但是其存放位置和全局变量一样，存于堆中开辟的.bss和.data段，是共享的

- **进程的各种文件**: 这个是共享的，使用这些公共资源的线程必须同步

**线程独享的资源有：** 栈，局部堆，寄存器组的值，线程ID、错误返回码、信号屏蔽码等

**线程通信常见的两种方式：**

（1）使用 volatile 关键字：基于共享内存的思想。大致意思就是多个线程同时监听一个变量，当这个变量发生变化的时候 ，线程能够感知并执行相应的业务。

（2）使用 Object 类的 wait() 和 notify() 方法：基于等待唤醒机制。当执行 notify 方法时，会唤醒一个处于等待该对象锁的线程，然后继续往下执行，直到执行完退出对象锁锁住的区域（synchronized修饰的代码块）后再释放锁。